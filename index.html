<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
</head>
<body>

<h2>计算日期差并生成二维码</h2>

<p id="demo"></p>
<div id="qrcode"></div>

<script>
    // 设置起始日期为2023年7月30日18时47分25秒
    var baseDate = new Date("2023-07-30T10:47:25Z");
    // 获取当前日期和时间
    var now = new Date();
    // 计算时间差，得到的结果为毫秒数
    var difference = now - baseDate;
    // 将时间差转换为秒
    var differenceInSeconds = Math.floor(difference / 1000);
    // 添加1690714044
    var finalDifference = differenceInSeconds + 1690714044;
    var QR="{&quot;school_no&quot;:&quot;XY2023043857&quot;,&quot;time&quot;:" + finalDifference.toString() + "}"
    // 在网页上显示结果
    document.getElementById("demo").innerHTML = "{&quot;school_no&quot;:&quot;XY2023043857&quot;,&quot;time&quot;:" + finalDifference + "}";

    // 生成二维码
    new QRCode(document.getElementById("qrcode"), QR);
</script>

</body>
</html>
